If you study the classes in the efootprint_extensions package, you’ll see that I’ve created "FromForm" wrapper objects to be able to create efootprint objects that take timeseries as input by computing the timeseries (ExplainableHourlyQuantities or ExplainableRecurrentQuantities) from simpler, scalar or string inputs. I realized that this approach is a dead end because it forces me to multiply the number of extension classes every time I add a new efootprint class that takes a timeseries as input. Instead what I want it to manage timeseries generation from within the generate_object_creation_structure and generate_dynamic_form functions defined in @model_builder/class_structure.py: timeseries objects should come last in the list of fields, and there should be new ExplainableHourlyQuantities and ExplainableRecurrentQuantities subclasses, 1 for each generation system for now (generating ExplainableRecurrentQuantities from constants and ExplainableHourlyQuantities from initial volume and growth rate, as you’ll see in the FromForm classes), that will be added in the model_builder/efootprint_extensions package, just like @model_builder/efootprint_extensions/explainable_start_date.py. If it helps, you can look up the ExplainableHourlyQuantities and ExplainableRecurrentQuantities in the venv folder (efootprint is installed in it). You’ll see how classes registered to ExplainableObject subclasses define from_json_dict and to_json methods. The idea for us will be to do all the precomputations of those timeseries objects within the new classes, cache the results in the value so that the parent class interface is respected and calculations don’t need to be done again when loading from json, but so that when editing the object, the user can find back what they inputed, and change it if they want to. New fields will need to be added to model_builder/templates/model_builder/side_panels/dynamic_form_fields to display the forms corresponding to the new timeseries objects.
You’ll start by implementing the ExplainableHourlyQuantities case, which will lead to the suppression of the EdgeUsagePatternFromForm and UsagePatternFromForm classes. It will also remove the need for the @model_builder/templates/model_builder/side_panels/usage_pattern/timeseries_form.html template, which will be replaced by the new dynamic form field. In the end, the usage pattern classes shouldn’t need special add and edit templates, because their timeseries specificity will be handled automatically. This will make the project much more maintainable. And in the future, it will be very easy to add other ways to create timeseries.
Think hard about this implementation as it is quite hard, and don’t hesitate to ask clarifying questions, especially if you stumble upon logical traps.

1st plan iteration:
That quite good already :) A few feedbacks:

Forget about setting local_timezone for the ExplainableHourlyQuantitiesFromFormInputs class. By just setting the start_date as UTC it should be fine down the road, no need to keep the update_local_timezone_start_date logic.

When encountering ExplainableHourlyQuantities or ExplainableRecurrentQuantities annotations you should detect which is the closest parent they inherit from (the FromFormInputs parent, in which case the user will have access to the data she inputed, or the efootprint one, in which case it has been generated with efootprint code and the user will only be able to view but not edit), and keep in mind that in the future there will be more ways to generate timeseries, handled through more extension classes.

When you sort by field type to make the timeseries inputs appear last, don’t change the ordering within other non-timeseries types.

The "Breaking existing saved models" will be handled by introducing a version upgrade handler that automatically updates the json file, but we’ll do it together at the very end.

