{% load static %}
<!DOCTYPE html>
<html lang="en" class="min-h-screen min-w-full">
{% load django_bootstrap5 %}
<head>
    <meta charset="UTF-8"/>
    <title>e-footprint</title>
    <link rel="stylesheet" href="{% static 'css/bs_main.css' %}"/>
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="/static/icons/sidenav/logo.svg"/>
    <link rel="stylesheet" href="{% static 'css/main.css' %}"/>
    <script src="{% static 'scripts/htmx.min.js' %}"></script>
    <script src="{% static 'scripts/_hyperscript.min.js' %}"></script>
    <script src="{% static 'scripts/leader-line.min.js' %}"></script>
    <script src="{% static 'scripts/Sortable.min.js' %}"></script>
    <script src="{% static 'scripts/dynamic_forms.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.5.0/build/global/luxon.min.js"></script>
    <script src=" https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@^1"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-zoom/2.2.0/chartjs-plugin-zoom.min.js" integrity="sha512-FRGbE3pigbYamZnw4+uT4t63+QJOfg4MXSgzPn2t8AWg9ofmFvZ/0Z37ZpCawjfXLBSVX2p2CncsmUH2hzsgJg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</head>

<body hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'>
    <nav class="navbar navbar-expand-lg bg-body-tertiary" style="height: 5vh;">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">
                <img src="{% static 'icons/sidenav/logo.svg' %}" alt="Bootstrap" width="30" height="24">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav">

                    <button hx-get="/understand" hx-target="#main-content-block" hx-swap="beforeend"
                                hx-push-url="/understand" hx-indicator="#global_loader" hx-disabled-elt="button"
                            script="on click remove the first <div/> in #main-content-block"
                            class="nav-link d-flex flex-row gap-2 btn btn-primary text-white mx-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-lightning-charge-fill" viewBox="0 0 16 16">
                          <path d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09z"/>
                        </svg>
                        <span>Understand</span>
                    </button>


                    <button hx-get="/quiz/onboarding" hx-target="#main-content-block" hx-swap="innerHTML"
                            hx-push-url="/quiz/onboarding" hx-indicator="#global_loader" hx-disabled-elt="button"
                            script="on click call removeAllLines()"
                            class="nav-link d-flex flex-row gap-2 btn btn-primary text-white mx-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-plus-fill" viewBox="0 0 16 16">
                          <path d="M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0M9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1M8.5 7v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 1 0"/>
                        </svg>
                        <span class="text-nowrap">Create new modeling</span>
                    </button>

                    <button hx-get="/model_builder" hx-target="#main-content-block" hx-swap="innerHTML"
                            hx-push-url="/model_builder/" hx-indicator="#global_loader" hx-disabled-elt="button"
                            class="nav-link d-flex flex-row gap-2 btn btn-primary text-white mx-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bar-chart-fill" viewBox="0 0 16 16">
                              <path d="M1 11a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1zm5-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1z"/>
                            </svg>
                        <span class="text-nowrap">Dashboard view</span>
                    </button>
                    <button class="nav-link d-flex flex-row gap-2 btn btn-primary text-white mx-2">
                            <a href="download-json">Export your model</a>
                    </button>
                    <button hx-get="/model_builder/reboot" hx-target="#main-content-block" hx-swap="innerHTML"
                            hx-push-url="/model_builder/" hx-indicator="#global_loader" hx-disabled-elt="button"
                            class="nav-link d-flex flex-row gap-2 btn btn-primary text-white mx-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bar-chart-fill" viewBox="0 0 16 16">
                              <path d="M1 11a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1zm5-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1z"/>
                            </svg>
                        <span class="text-nowrap">Reboot to default</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>
    <div class="container-fluid p-0">
        <!-- Main Content -->
        <main id="main-content-block" class="text-center w-100">
            {% if home %}
            {% include "home.html" %}
            {% elif understand %}
            {% include "understand.html" %}
            {% elif modelBuilderMain %}
            {% include "model_builder/model-builder-main.html" %}
            {% endif %}
        </main>
    </div>
    {% bootstrap_javascript %}
    <script src="{% static 'scripts/efootprint_model.js' %}"></script>
</body>
</html>
