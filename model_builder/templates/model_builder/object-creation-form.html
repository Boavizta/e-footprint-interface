<div id="object-creation-form"
     class="text-black-1 bg-white-1 min-h-full w-80 {% if display_obj_form == False %}hidden{% endif %}">
    <div class="sticky top-0">
        <button hx-get="close-form"
                hx-swap="outerHTML"
                hx-target="#object-creation-form"
                class="h-min">
            <img class="text-black-1"
                 src="/static/icons/arrow_back_black.svg"
                 alt="Back arrow" />
        </button>
        <h3>{{ header }}</h3>
        <form class="flex flex-col space-y-8 mt-8"
              hx-post="add-new-object"
              hx-vals='{"obj_type": "{{ obj_type }}", "is_an_object_edition": "{{ is_an_object_edition }}", "obj_id": "{{ object_id }}" }'
              hx-select="#model-builder-page"
              hx-target="#model-builder-page">
            <label>
                Name :
                <input id="new-object-name" type="text" name="name" value="{{default_name}}" required />
            </label>
            {% for numerical_attribute in numerical_attributes %}
                <div class="flex flex-row space-x-2 place-items-center">
                    <span>{{ numerical_attribute.attr_name }}</span>
                    <input id="{{ numerical_attribute.attr_name }}"
                           type="number"
                           name="{{ numerical_attribute.attr_name }}"
                           value="{{ numerical_attribute.default_value }}" />
                    <span>{{ numerical_attribute.unit }}</span>
                </div>
            {% endfor %}
            {% for modeling_obj_attribute in modeling_obj_attributes %}
                <label>
                    {{ modeling_obj_attribute.object_type }}
                    <select id="{{ modeling_obj_attribute.attr_name }}"
                            name="{{ modeling_obj_attribute.attr_name }}"
                            class="text-black-1">
                        {% for existing_object in modeling_obj_attribute.existing_objects %}
                            <option value="{{ existing_object.id }}"
                            {% if existing_object.id == modeling_obj_attribute.selected %} selected {% endif %}
                            >{{ existing_object.name }}</option>
                        {% endfor %}
                    </select>
                </label>
            {% endfor %}
            {% for list_attribute in list_attributes %}
                <label>
                    {{ list_attribute.object_type }}
                    <div id="{{ list_attribute.attr_name }}"
                         class="text-black-1 flex flex-col">
                       {% for existing_object in list_attribute.existing_objects %}
                          <input value="{{ existing_object.id }}"
                                 name="{{ list_attribute.attr_name }}"
                                 type="checkbox"
                                 {% if existing_object.id in list_attribute.selected %} checked {% endif %}>
                             {{ existing_object.name }}
                          </input>
                        {% endfor %}
                    </div>
            </label>
            {% endfor %}
        <div class="flex content-center flex-row space-x-4">
            <button>Cancel</button>
            <button id="create-new-object-button" type="submit">
                {% if is_an_object_edition %} Edit {% else %} Save {% endif %}</button>
        </div>
    </form>
</div>
</div>
