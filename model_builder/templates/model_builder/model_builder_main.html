{% load static %}
{% include 'model_builder/upload_download_reboot_model_tooltips.html' %}
<div class="row position-relative mx-0" id="model-builder-page">
    <div class="col p-0" id="model-canva-wrapper">
        <div class="d-flex flex-row my-3 mx-0 px-0" id="model-canva">

        </div>
    </div>
    <div class="col-12 col-md-6 col-xl-3 d-none transition-width pb-3 overflow-y-auto z-2 bg-white" id="sidePanel"></div>
    <div class="position-absolute bottom-0 start-0 w-100 bg-transparent text-start border-0 z-3 p-0" id="panel-result-btn">
        <div class="w-100 text-center h6 text-start bg-white rounded-2 shadow-sm-up h-100" id="btn-open-panel-result"
            hx-get="/model_builder/result-chart/"
            hx-target="#result-block"
            hx-swap="innerHTML"
            hx-trigger="click"
            hx-disabled-elt="button"
        >
            <div class="row h-100 text-start align-items-center">
                <div class="col-4">
                    <p class="h5 my-0 ms-3">Results</p>
                </div>
                <div class="col-4 text-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="40" fill="currentColor" class="bi bi-dash" viewBox="0 0 16 16">
                        <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"/>
                    </svg>
                </div>
            </div>
        </div>
        <div id="result-block" class="bg-transparent overflow-y-auto pt-1"></div>
    </div>
</div>

<button id="model-scroll-to-right"
    class="d-block d-xl-none position-absolute top-50 end-0 top-0 border-0 rounded-start-circle bg-white border shadow text-black py-3 ps-2 pe-1 z-2"
        onclick="scrollToRight()"
>
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-right-fill" viewBox="0 0 16 16">
  <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
</svg>
</button>

<button id="model-scroll-to-left"
    class="d-block d-xl-none position-absolute top-50 start-0 border-0 rounded-end-circle bg-white border shadow text-black py-3 ps-2 pe-1 z-2"
        onclick="scrollToLeft()"
>
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-left-fill" viewBox="0 0 16 16">
      <path d="m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"/>
    </svg>
</button>

{% include 'model_builder/side_panels/usage_pattern/timeseries_chart.html' %}

{% include 'model_builder/components/toast.html' %}

<div id="modal-container">
</div>

<div id="loader-container">
</div>

<div class="modal fade" id="error-import-modal" tabindex="-1" aria-labelledby="error-import-modal-Label" aria-hidden="true"  data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body text-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-x-octagon" viewBox="0 0 16 16">
                    <path d="M4.54.146A.5.5 0 0 1 4.893 0h6.214a.5.5 0 0 1 .353.146l4.394 4.394a.5.5 0 0 1 .146.353v6.214a.5.5 0 0 1-.146.353l-4.394 4.394a.5.5 0 0 1-.353.146H4.893a.5.5 0 0 1-.353-.146L.146 11.46A.5.5 0 0 1 0 11.107V4.893a.5.5 0 0 1 .146-.353zM5.1 1 1 5.1v5.8L5.1 15h5.8l4.1-4.1V5.1L10.9 1z"/>
                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
                </svg>
                <p><strong role="status">Import errror</strong></p>
                <p>{{ import_error_message }}</p>
                <div class="progress mt-3">
                    <div id="progressBar" class="progress-bar bg-primary w-100" style="width: 100%;"></div>
                </div>
                <button type="button" class="btn btn-secondary mt-3" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
