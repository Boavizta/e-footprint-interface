<div id="model-comparison-buttons"
     {% if hx_swap_oob %} hx-swap-oob="true" {% endif %}
     class="container">
    <div class="row align-items-center">
        {% if is_different_from_ref_model %}
            <!-- Colonne de gauche : Set model as a reference -->
            <div class="col-4 d-flex justify-content-start mb-3 mb-md-0">
                <button class="btn btn-outline-primary d-flex align-items-center gap-2 position-relative px-4 py-2 rounded"
                        hx-post="set-reference-model" hx-target="#model-comparison-buttons" hx-swap="outerHTML" hx-disabled-elt="button"
                        script="on click hide the first <span/> in me with *opacity">
                    <img id="set-ref-model-loader" src="/static/loaders/bars.svg"
                         class="htmx-indicator position-absolute top-50 start-50 translate-middle"
                         style="pointer-events: none; width: 40px; height: 40px;"/>
                    <span>Set model as a reference</span>
                </button>
            </div>

            <!-- Colonne de droite : Compare and Reset buttons -->
            <div class="col-6 d-flex flex-column flex-md-row gap-2 justify-content-end">
                <button class="btn btn-primary d-flex align-items-center px-4 py-2 rounded"
                        hx-post="compare_with_reference" hx-target="#compare-container" hx-swap="innerHTML" hx-disabled-elt="button"
                        hx-indicator="#compare-loader"
                        script="on click if #graph-comparison-image is not null then remove #graph-comparison-image">
                    Compare the two models
                </button>
                <button class="btn btn-primary d-flex align-items-center px-4 py-2 rounded"
                        hx-post="reset_model_reference" hx-target="#main-content-block" hx-swap="beforeend" hx-disabled-elt="button"
                        hx-indicator="#global_loader"
                        script="on click remove the first <div/> in #main-content-block
                                on htmx:afterRequest js init('{{ request.scheme }}://{{ request.get_host }}', '{{csrf_token}}') end">
                    Reset to the model reference
                </button>
            </div>
        {% else %}
            <!-- Bouton désactivé quand le modèle est défini comme référence -->
            <div class="col-6 text-center">
                <button class="btn btn-outline-primary d-flex align-items-center gap-2 px-4 py-2 rounded" disabled>
                    Model set as a reference <img src="/static/icons/check-green.svg" alt="Check" style="width: 20px; height: 20px;"/>
                </button>
            </div>
        {% endif %}
        <div class="col-2" >
            <a class="btn btn-primary gap-2 px-4 py-2 rounded" href="download-json">Export your model</a>
        </div>
    </div>
</div>
